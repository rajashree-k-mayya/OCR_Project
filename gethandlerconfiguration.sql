CREATE OR REPLACE FUNCTION gethandlerconfiguration(in enteredvalue text, in selectedvalueids int4, in categorypropertyallocationids int4, in propertyids int4, in userid int4, in projectid int4, in olid int4, in activityid int4, in distnodeid int4, in distnodecode varchar, in typeid int4, in inputjson varchar, in clientidentifier varchar)
  RETURNS text AS 
$BODY$
Declare rolerid int4;maxresp int4;oldmetphase record;feedercode text;subcode text;feedercodenoninc text;subcodenoninc text;rid int4;pdcval record;maxresp1 int4;cnbval varchar;
mtype record;stype varchar;valuid int4;phase int4;billingtype int4;statusid int4;pingval1 varchar;pingval2 varchar;pingval3 varchar;
roled int;
begin

insert into assignmentpreelogs(fntext,created) select 'gethandlerconfiguration----'|| coalesce($1,'')::text||'/'
||coalesce($2,0)::text||'/'||coalesce($3,0)::text||'/'||coalesce($4,0)::text
||'/'||coalesce($5,0)::text||'/'||coalesce($6,0)::text||'/'||coalesce($7,0)::text||'/'||coalesce($8,0)
||'/'||coalesce($9,0)||'/'||coalesce($10,'')||'/'||coalesce($11,0)||'/'||coalesce($12,'')||'/'||coalesce($13,''),now();

select roleid into roled from tblprojectuserallocation u where u.userid=$5 and u.projectid=13;
 select value::jsonb->>'value' into pingval1 from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='1385';
select value::jsonb->>'value' into pingval2 from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='1386';
select value::jsonb->>'value' into pingval3 from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='1387';


if $8=72 and $6=13 then 
BEGIN
        select max(responselogid) from tblresponselogs a where a.projectid=$6 and a.activityid=$8 and distnid=$9 and a.distcode=$10 into maxresp;
        
        select items.value ,items."valueId" into oldmetphase
        from tblresponselogs,jsonb_to_recordset(tblresponselogs.response ::jsonb -> 'propertiesBean') as items( value text,"valueId" int,categorypropertyallocationid int4)
        where  responselogid =maxresp and items.categorypropertyallocationid in (25) ;

        select items.value ,items."valueId" into pdcval
        from tblresponselogs,jsonb_to_recordset(tblresponselogs.response ::jsonb -> 'propertiesBean') as items( value text,"valueId" int,categorypropertyallocationid int4)
        where  responselogid =maxresp and items.categorypropertyallocationid in (11) ;

        select a.roleid from tblprojectuserallocation a where a.userid=$5 and a.projectid=$6 into rolerid;

        if $3 in(355,114) then  
        return  (select handlerconfigurationstr from getpropertylisting_overriding($6,coalesce(rolerid,0),$8,2) where cparid in($3));
        elsif $3 in(354,353) then  
        return  (select handlerconfigurationstr from getpropertylisting_overriding($6,coalesce(rolerid,0),$8,3) where cparid in($3));
        elsif $3 in(113) --and oldmetphase."valueId"<>15 
        then 
        BEGIN
            return (
            with tempcte as (select jsonb_array_elements($12::jsonb) as jsonval)
            ,tempcte1 as (select jsonval::json->>'cpaRid' cpaid,jsonval::json->>'value' val from tempcte )
            ,finalcte as (
            select (case when (a.val::numeric-coalesce(a2.billread,0)::numeric)<0 then '(-)'||abs((a.val::numeric-coalesce(a2.billread,0)::numeric))::text else (a.val::numeric-coalesce(a2.billread,0)::numeric)::text end) finalval 
            from tempcte1 a
            left join lateral (select max(discombillreadid) maxid from tbldiscombillreads a where a.activityid=72 and distnid=$9) a1 on true
            left join tbldiscombillreads a2 on a1.maxid=a2.discombillreadid
            where cpaid::int4=113)
            select '[{"cpaRid": 357,"readOnly": 0,"visible": 1,"clear": 0,"mandatory": 0,"masterValues": [],"handleConfig": null,"online": 0,"event": 1,"allowcreate": 0,
                                  "default": []} 
                           , {"cpaRid": 664,"readOnly": 1,"visible": 1,"clear": 1,"mandatory": 0,"masterValues": [],"handleConfig": null,"online": 0,"event": 0,"allowcreate": 0,
                                                                                "default": ["'||finalval ||'"]    
                           }]' from finalcte); 
       END;
       elsif $3=57 then 
       begin
                select value::jsonb->>'valueRid' into phase from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='25';
                select value::jsonb->>'valueRid' into billingtype from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='10';

               if(phase in(14,15) and billingtype in(84)) then 
                     return ('[{"cpaRid":1385,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1},{"cpaRid":356,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":69,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":54,"value":"Err00-All Good","handleConfig":null,"online":0,"event":1},{"valueRid":55,"value":"Err01-Meter NIC communication failure","handleConfig":null,"online":0,"event":1},{"valueRid":56,"value":"Err02-Modem initialization failure","handleConfig":null,"online":0,"event":1},{"valueRid":57,"value":"Err03-SIM not detected","handleConfig":null,"online":0,"event":1},{"valueRid":58,"value":"Err04-SIM invalid","handleConfig":null,"online":0,"event":1},{"valueRid":59,"value":"Err05-No GSM Network coverage","handleConfig":null,"online":0,"event":1},{"valueRid":60,"value":"Err06-GPRS Network registration failure","handleConfig":null,"online":0,"event":1},{"valueRid":61,"value":"Err07-GPRS registration denied","handleConfig":null,"online":0,"event":1},{"valueRid":62,"value":"Err08-No APN configured","handleConfig":null,"online":0,"event":1},{"valueRid":63,"value":"Err09-GPRS connection not establish","handleConfig":null,"online":0,"event":1},{"valueRid":64,"value":"Err10-HES IP/Port not configured","handleConfig":null,"online":0,"event":1},{"valueRid":65,"value":"Err11-HES port not open","handleConfig":null,"online":0,"event":1}],"default":[54],"handleConfig":null,"online":0,"event":1,"allowcreate":1}],"online":0,"event":1,"allowcreate":0},{"cpaRid":857,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20004,"value":"January ","handleConfig":null,"online":0,"event":1},{"valueRid":20005,"value":"February","handleConfig":null,"online":0,"event":1},{"valueRid":20006,"value":"March","handleConfig":null,"online":0,"event":1},{"valueRid":20007,"value":"April","handleConfig":null,"online":0,"event":1},{"valueRid":20008,"value":"May","handleConfig":null,"online":0,"event":1},{"valueRid":20009,"value":"June","handleConfig":null,"online":0,"event":1},{"valueRid":20010,"value":"July","handleConfig":null,"online":0,"event":1},{"valueRid":20011,"value":"August","handleConfig":null,"online":0,"event":1},{"valueRid":20012,"value":"September","handleConfig":null,"online":0,"event":1},{"valueRid":20013,"value":"October","handleConfig":null,"online":0,"event":1},{"valueRid":20014,"value":"November","handleConfig":null,"online":0,"event":1},{"valueRid":20015,"value":"December","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":858,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20016,"value":"2017","handleConfig":null,"online":0,"event":1},{"valueRid":20017,"value":"2018","handleConfig":null,"online":0,"event":1},{"valueRid":20018,"value":"2019","handleConfig":null,"online":0,"event":1},{"valueRid":20019,"value":"2020","handleConfig":null,"online":0,"event":1},{"valueRid":20020,"value":"2021","handleConfig":null,"online":0,"event":1},{"valueRid":20021,"value":"2022","handleConfig":null,"online":0,"event":1},{"valueRid":20022,"value":"2023","handleConfig":null,"online":0,"event":1},{"valueRid":20023,"value":"2024","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1126,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1125,"value":"1-PH","handleConfig":null,"online":0,"event":1},{"valueRid":1126,"value":"3-PH","handleConfig":null,"online":0,"event":1},{"valueRid":1127,"value":"LTCT","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1},{"cpaRid":1127,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":69,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":54,"value":"Err00-All Good","handleConfig":null,"online":0,"event":1},{"valueRid":55,"value":"Err01-Meter NIC communication failure","handleConfig":null,"online":0,"event":1},{"valueRid":56,"value":"Err02-Modem initialization failure","handleConfig":null,"online":0,"event":1},{"valueRid":57,"value":"Err03-SIM not detected","handleConfig":null,"online":0,"event":1},{"valueRid":58,"value":"Err04-SIM invalid","handleConfig":null,"online":0,"event":1},{"valueRid":59,"value":"Err05-No GSM Network coverage","handleConfig":null,"online":0,"event":1},{"valueRid":60,"value":"Err06-GPRS Network registration failure","handleConfig":null,"online":0,"event":1},{"valueRid":61,"value":"Err07-GPRS registration denied","handleConfig":null,"online":0,"event":1},{"valueRid":62,"value":"Err08-No APN configured","handleConfig":null,"online":0,"event":1},{"valueRid":63,"value":"Err09-GPRS connection not establish","handleConfig":null,"online":0,"event":1},{"valueRid":64,"value":"Err10-HES IP/Port not configured","handleConfig":null,"online":0,"event":1},{"valueRid":65,"value":"Err11-HES port not open","handleConfig":null,"online":0,"event":1}],"default":[54],"handleConfig":null,"online":0,"event":1,"allowcreate":1}],"online":0,"event":1,"allowcreate":1}]');
               elsif(phase in(16) and billingtype in(84)) then 
                     return ('[{"cpaRid":1385,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1},{"cpaRid":356,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":69,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":54,"value":"Err00-All Good","handleConfig":null,"online":0,"event":1},{"valueRid":55,"value":"Err01-Meter NIC communication failure","handleConfig":null,"online":0,"event":1},{"valueRid":56,"value":"Err02-Modem initialization failure","handleConfig":null,"online":0,"event":1},{"valueRid":57,"value":"Err03-SIM not detected","handleConfig":null,"online":0,"event":1},{"valueRid":58,"value":"Err04-SIM invalid","handleConfig":null,"online":0,"event":1},{"valueRid":59,"value":"Err05-No GSM Network coverage","handleConfig":null,"online":0,"event":1},{"valueRid":60,"value":"Err06-GPRS Network registration failure","handleConfig":null,"online":0,"event":1},{"valueRid":61,"value":"Err07-GPRS registration denied","handleConfig":null,"online":0,"event":1},{"valueRid":62,"value":"Err08-No APN configured","handleConfig":null,"online":0,"event":1},{"valueRid":63,"value":"Err09-GPRS connection not establish","handleConfig":null,"online":0,"event":1},{"valueRid":64,"value":"Err10-HES IP/Port not configured","handleConfig":null,"online":0,"event":1},{"valueRid":65,"value":"Err11-HES port not open","handleConfig":null,"online":0,"event":1}],"default":[54],"handleConfig":null,"online":0,"event":1,"allowcreate":1}],"online":0,"event":1,"allowcreate":0},{"cpaRid":857,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20004,"value":"January ","handleConfig":null,"online":0,"event":1},{"valueRid":20005,"value":"February","handleConfig":null,"online":0,"event":1},{"valueRid":20006,"value":"March","handleConfig":null,"online":0,"event":1},{"valueRid":20007,"value":"April","handleConfig":null,"online":0,"event":1},{"valueRid":20008,"value":"May","handleConfig":null,"online":0,"event":1},{"valueRid":20009,"value":"June","handleConfig":null,"online":0,"event":1},{"valueRid":20010,"value":"July","handleConfig":null,"online":0,"event":1},{"valueRid":20011,"value":"August","handleConfig":null,"online":0,"event":1},{"valueRid":20012,"value":"September","handleConfig":null,"online":0,"event":1},{"valueRid":20013,"value":"October","handleConfig":null,"online":0,"event":1},{"valueRid":20014,"value":"November","handleConfig":null,"online":0,"event":1},{"valueRid":20015,"value":"December","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":858,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20016,"value":"2017","handleConfig":null,"online":0,"event":1},{"valueRid":20017,"value":"2018","handleConfig":null,"online":0,"event":1},{"valueRid":20018,"value":"2019","handleConfig":null,"online":0,"event":1},{"valueRid":20019,"value":"2020","handleConfig":null,"online":0,"event":1},{"valueRid":20020,"value":"2021","handleConfig":null,"online":0,"event":1},{"valueRid":20021,"value":"2022","handleConfig":null,"online":0,"event":1},{"valueRid":20022,"value":"2023","handleConfig":null,"online":0,"event":1},{"valueRid":20023,"value":"2024","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1126,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1125,"value":"1-PH","handleConfig":null,"online":0,"event":1},{"valueRid":1126,"value":"3-PH","handleConfig":null,"online":0,"event":1},{"valueRid":1127,"value":"LTCT","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1},{"cpaRid":1127,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":69,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":54,"value":"Err00-All Good","handleConfig":null,"online":0,"event":1},{"valueRid":55,"value":"Err01-Meter NIC communication failure","handleConfig":null,"online":0,"event":1},{"valueRid":56,"value":"Err02-Modem initialization failure","handleConfig":null,"online":0,"event":1},{"valueRid":57,"value":"Err03-SIM not detected","handleConfig":null,"online":0,"event":1},{"valueRid":58,"value":"Err04-SIM invalid","handleConfig":null,"online":0,"event":1},{"valueRid":59,"value":"Err05-No GSM Network coverage","handleConfig":null,"online":0,"event":1},{"valueRid":60,"value":"Err06-GPRS Network registration failure","handleConfig":null,"online":0,"event":1},{"valueRid":61,"value":"Err07-GPRS registration denied","handleConfig":null,"online":0,"event":1},{"valueRid":62,"value":"Err08-No APN configured","handleConfig":null,"online":0,"event":1},{"valueRid":63,"value":"Err09-GPRS connection not establish","handleConfig":null,"online":0,"event":1},{"valueRid":64,"value":"Err10-HES IP/Port not configured","handleConfig":null,"online":0,"event":1},{"valueRid":65,"value":"Err11-HES port not open","handleConfig":null,"online":0,"event":1}],"default":[54],"handleConfig":null,"online":0,"event":1,"allowcreate":1}],"online":0,"event":1,"allowcreate":1}]');
               else 
                    return(select '[{"cpaRid":1385,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1},{"cpaRid":356,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"handleConfig":[{"cpaRid":69,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":54,"value":"Err00-All Good","handleConfig":null,"online":0,"event":1},{"valueRid":55,"value":"Err01-Meter NIC communication failure","handleConfig":null,"online":0,"event":1},{"valueRid":56,"value":"Err02-Modem initialization failure","handleConfig":null,"online":0,"event":1},{"valueRid":57,"value":"Err03-SIM not detected","handleConfig":null,"online":0,"event":1},{"valueRid":58,"value":"Err04-SIM invalid","handleConfig":null,"online":0,"event":1},{"valueRid":59,"value":"Err05-No GSM Network coverage","handleConfig":null,"online":0,"event":1},{"valueRid":60,"value":"Err06-GPRS Network registration failure","handleConfig":null,"online":0,"event":1},{"valueRid":61,"value":"Err07-GPRS registration denied","handleConfig":null,"online":0,"event":1},{"valueRid":62,"value":"Err08-No APN configured","handleConfig":null,"online":0,"event":1},{"valueRid":63,"value":"Err09-GPRS connection not establish","handleConfig":null,"online":0,"event":1},{"valueRid":64,"value":"Err10-HES IP/Port not configured","handleConfig":null,"online":0,"event":1},{"valueRid":65,"value":"Err11-HES port not open","handleConfig":null,"online":0,"event":1}],"default":[54],"handleConfig":null,"online":0,"event":1,"allowcreate":1}],"online":0,"event":1,"allowcreate":0,"default":[]},{"cpaRid":857,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20004,"value":"January ","handleConfig":null,"online":0,"event":1},{"valueRid":20005,"value":"February","handleConfig":null,"online":0,"event":1},{"valueRid":20006,"value":"March","handleConfig":null,"online":0,"event":1},{"valueRid":20007,"value":"April","handleConfig":null,"online":0,"event":1},{"valueRid":20008,"value":"May","handleConfig":null,"online":0,"event":1},{"valueRid":20009,"value":"June","handleConfig":null,"online":0,"event":1},{"valueRid":20010,"value":"July","handleConfig":null,"online":0,"event":1},{"valueRid":20011,"value":"August","handleConfig":null,"online":0,"event":1},{"valueRid":20012,"value":"September","handleConfig":null,"online":0,"event":1},{"valueRid":20013,"value":"October","handleConfig":null,"online":0,"event":1},{"valueRid":20014,"value":"November","handleConfig":null,"online":0,"event":1},{"valueRid":20015,"value":"December","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":1,"default":[]},{"cpaRid":858,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20016,"value":"2017","handleConfig":null,"online":0,"event":1},{"valueRid":20017,"value":"2018","handleConfig":null,"online":0,"event":1},{"valueRid":20018,"value":"2019","handleConfig":null,"online":0,"event":1},{"valueRid":20019,"value":"2020","handleConfig":null,"online":0,"event":1},{"valueRid":20020,"value":"2021","handleConfig":null,"online":0,"event":1},{"valueRid":20021,"value":"2022","handleConfig":null,"online":0,"event":1},{"valueRid":20022,"value":"2023","handleConfig":null,"online":0,"event":1},{"valueRid":20023,"value":"2024","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":1,"default":[]},{"cpaRid":1126,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1125,"value":"1-PH","handleConfig":null,"online":0,"event":1},{"valueRid":1126,"value":"3-PH","handleConfig":null,"online":0,"event":1},{"valueRid":1127,"value":"LTCT","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]}]');
               end if;  
       end;
      
      elsif($8=72 and $3=1126 and $6=13) then
      begin
            select value::jsonb->>'valueRid' into valuid from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='10';
            select value::jsonb->>'valueRid' into phase from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='25';
            if (valuid in (84) and phase=16 and $2=20283) then return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20283);
            elsif (valuid in (84) and phase=16 and $2=20284) then return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20284);
            elsif (valuid in (1,2) and phase=15 and $2=20284) then return(select '[{"cpaRid":1125,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20281,"value":"100/5","handleConfig":null,"online":0,"event":0},{"valueRid":20282,"value":"200/5","handleConfig":null,"online":0,"event":0}],"handleConfig":null,"online":0,"event":0,"allowcreate":1,"default":[]},{"cpaRid":1136,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1,"default":[]},{"cpaRid":1127,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1,"default":[]},{"cpaRid":1128,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1,"default":[]},{"cpaRid":1129,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":16017,"value":"No","handleConfig":null,"online":0,"event":1},{"valueRid":16016,"value":"Yes","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":1,"allowcreate":1,"default":[]}]');
            else  return(select '');
            end if;   
      end;


       elsif pdcval.value='PDC' or pdcval."valueId"=4 then 
            return (select '[
            {  "cpaRid": 317, "readOnly": 0,"visible": 0, "clear": 1, "mandatory": 0, "masterValues": [], "handleConfig": null, "online": 0,  "event": 0, "allowcreate": 0,  "default": [] },
            { "cpaRid": 213,"readOnly": 0,"visible": 0, "clear": 1,"mandatory": 0,  "masterValues": [], "handleConfig": null, "online": 0,"event": 0, "allowcreate": 0,  "default": []},
            { "cpaRid": 10,"readOnly": 0,"visible": 0,  "clear": 1, "mandatory": 0, "masterValues": [],  "handleConfig": null, "online": 0, "event": 0, "allowcreate": 0, "default": []  },
            { "cpaRid": 16, "readOnly": 0, "visible": 0, "clear": 1, "mandatory": 0, "masterValues": [],  "handleConfig": null, "online": 0, "event": 0, "allowcreate": 0, "default": [] },
            { "cpaRid": 14, "readOnly": 0, "visible": 0, "clear": 1, "mandatory": 0, "masterValues": [], "handleConfig": null, "online": 0, "event": 0,  "allowcreate": 0, "default": [] }, 
            { "cpaRid": 13, "readOnly": 0, "visible": 0,  "clear": 1, "mandatory": 0, "masterValues": [], "handleConfig": null, "online": 0, "event": 0, "allowcreate": 0, "default": [] },
            { "cpaRid": 86, "readOnly": 0,  "visible": 0, "clear": 1, "mandatory": 0, "masterValues": [], "handleConfig": null, "online": 0, "event": 0, "allowcreate": 0, "default": [] },
            { "cpaRid": 766, "readOnly": 0, "visible": 1, "clear": 0, "mandatory": 0, "masterValues": [],  "handleConfig": null, "online": 0, "event": 0,  "allowcreate": 0,  "default": [] }
       ]');
       elsif $3=819 then return (select handlerconfiguration from tblcategorypropertyallocation where categorypropertyallocationid=819);
       elsif $3 in(818) then return (select handle_config from se_dcg_hc_role_map where property_value_rid=$2);

       elsif $3=69 then 
            begin
                select value::jsonb->>'valueRid' into billingtype from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='10';

                if (billingtype in(2)) and coalesce(pingval3::jsonb->>'status', '') ilike '%fail%' then  
                     return ('[{"cpaRid":62,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":63,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":64,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":201,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":200,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":204,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":68,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1299,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":359,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":67,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":203,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":70,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":71,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":207,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":208,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":353,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":73,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":358,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":97,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":75,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":74,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1,"allowcreate":0}],"online":0,"event":1,"allowcreate":0},{"cpaRid":202,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":65,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":977,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20121,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20141,"value":"Schneider","handleConfig":null,"online":0,"event":1},{"valueRid":20142,"value":"Cyanconnode","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":981,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20122,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20143,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":979,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20120,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20144,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1007,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1302,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1061,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1060,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1303,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1063,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1062,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1,"allowcreate":0},{"cpaRid":1300,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},[{"cpaRid":62,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":63,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":64,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":201,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":200,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":204,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":68,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1299,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":359,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":67,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":203,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":70,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":71,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":207,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":208,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":353,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":73,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":358,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":97,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":75,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":74,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1,"allowcreate":0}],"online":0,"event":1,"allowcreate":0},{"cpaRid":202,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":65,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":977,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20121,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20141,"value":"Schneider","handleConfig":null,"online":0,"event":1},{"valueRid":20142,"value":"Cyanconnode","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":981,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20122,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20143,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":979,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20120,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20144,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1007,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1302,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1061,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1060,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1303,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1063,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1062,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1,"allowcreate":0},{"cpaRid":1300,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1385,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1386,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1387,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}]]');
-- 
--                 --ping   
--                   if (billingtype in(2)) and coalesce(pingval3::jsonb->>'status', '') ilike '%fail%' then  
--                          return ('[{"cpaRid":62,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":63,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":64,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":201,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":200,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":204,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":68,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1299,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":359,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":67,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":203,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":70,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":71,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":207,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":208,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":353,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":73,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":358,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":97,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":75,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":74,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1,"allowcreate":0}],"online":0,"event":1,"allowcreate":0},{"cpaRid":202,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":65,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":977,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20121,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20141,"value":"Schneider","handleConfig":null,"online":0,"event":1},{"valueRid":20142,"value":"Cyanconnode","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":981,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20122,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20143,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":979,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20120,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20144,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1007,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1302,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1061,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1060,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1303,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1063,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1062,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1,"allowcreate":0},{"cpaRid":1300,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},[{"cpaRid":62,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":63,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":64,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":201,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":200,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":204,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":68,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1299,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":359,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":67,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":203,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":70,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":71,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":207,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":208,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":353,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":73,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":358,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":97,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":75,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":74,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1,"allowcreate":0}],"online":0,"event":1,"allowcreate":0},{"cpaRid":202,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":65,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":977,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20121,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20141,"value":"Schneider","handleConfig":null,"online":0,"event":1},{"valueRid":20142,"value":"Cyanconnode","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":981,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20122,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20143,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":979,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20120,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20144,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1007,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1302,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1061,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1060,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1303,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1063,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1062,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1,"allowcreate":0},{"cpaRid":1300,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1385,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1386,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1387,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}]]');
--                  elsif(billingtype in(2)) and coalesce(pingval2::jsonb->>'status', '') ilike '%fail%' then 
--                       return ('[{"cpaRid":62,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":63,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":64,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":201,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":200,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":204,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":68,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1299,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":359,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":67,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":203,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":70,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":71,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":207,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":208,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":353,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":73,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":358,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":97,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":75,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":74,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1,"allowcreate":0}],"online":0,"event":1,"allowcreate":0},{"cpaRid":202,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":65,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":977,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20121,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20141,"value":"Schneider","handleConfig":null,"online":0,"event":1},{"valueRid":20142,"value":"Cyanconnode","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":981,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20122,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20143,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":979,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20120,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20144,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1007,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1302,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1061,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1060,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1303,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1063,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1062,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1,"allowcreate":0},{"cpaRid":1300,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},[{"cpaRid":62,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":63,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":64,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":201,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":200,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":204,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":68,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1299,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":359,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":67,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":203,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":70,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":71,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":207,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":208,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":353,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":73,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":358,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":97,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":75,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":74,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1,"allowcreate":0}],"online":0,"event":1,"allowcreate":0},{"cpaRid":202,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":65,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":977,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20121,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20141,"value":"Schneider","handleConfig":null,"online":0,"event":1},{"valueRid":20142,"value":"Cyanconnode","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":981,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20122,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20143,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":979,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20120,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20144,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1007,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1302,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1061,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1060,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1303,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1063,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1062,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1,"allowcreate":0},{"cpaRid":1300,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1385,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1386,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1387,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}]]');
--                  elsif(billingtype in(2)) and coalesce(pingval1::jsonb->>'status', '') ilike '%fail%' then 
--                       return ('[{"cpaRid":62,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":63,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":64,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":201,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":200,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":204,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":68,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1299,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":359,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":67,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":203,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":70,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":71,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":207,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":208,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":353,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":73,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":358,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":97,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":75,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":74,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1,"allowcreate":0}],"online":0,"event":1,"allowcreate":0},{"cpaRid":202,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":65,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":977,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20121,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20141,"value":"Schneider","handleConfig":null,"online":0,"event":1},{"valueRid":20142,"value":"Cyanconnode","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":981,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20122,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20143,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":979,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20120,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20144,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1007,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1302,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1061,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1060,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1303,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1063,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1062,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1,"allowcreate":0},{"cpaRid":1300,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},[{"cpaRid":62,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":63,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":64,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":201,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":200,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":204,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":68,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1299,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":359,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":67,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":203,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":70,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":71,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":207,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":208,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":353,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":73,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":358,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":97,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":75,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":74,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1,"allowcreate":0}],"online":0,"event":1,"allowcreate":0},{"cpaRid":202,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":65,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":977,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20121,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20141,"value":"Schneider","handleConfig":null,"online":0,"event":1},{"valueRid":20142,"value":"Cyanconnode","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":981,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20122,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20143,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":979,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20120,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20144,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1007,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1302,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1061,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1060,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1303,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1063,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1062,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1,"allowcreate":0},{"cpaRid":1300,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1385,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1386,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1387,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}]]');
--             --ping     
                elsif(billingtype in(84)) then 
                        return ('[{"cpaRid":62,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":63,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":64,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":201,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":200,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":204,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":68,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1299,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":359,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":67,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":203,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":70,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":71,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":207,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":208,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":353,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":73,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":358,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":97,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":75,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":74,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1,"allowcreate":0}],"online":0,"event":1,"allowcreate":0},{"cpaRid":202,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":65,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":977,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20121,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20141,"value":"Schneider","handleConfig":null,"online":0,"event":1},{"valueRid":20142,"value":"Cyanconnode","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":981,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20122,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20143,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":979,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20120,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20144,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1007,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1302,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1061,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1060,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1303,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1063,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1062,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1,"allowcreate":0},{"cpaRid":1300,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1}]');
                else 
                        --return(select '[{"cpaRid":356,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"handleConfig":[{"cpaRid":69,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":54,"value":"Err00-All Good","handleConfig":null,"online":0,"event":1},{"valueRid":55,"value":"Err01-Meter NIC communication failure","handleConfig":null,"online":0,"event":1},{"valueRid":56,"value":"Err02-Modem initialization failure","handleConfig":null,"online":0,"event":1},{"valueRid":57,"value":"Err03-SIM not detected","handleConfig":null,"online":0,"event":1},{"valueRid":58,"value":"Err04-SIM invalid","handleConfig":null,"online":0,"event":1},{"valueRid":59,"value":"Err05-No GSM Network coverage","handleConfig":null,"online":0,"event":1},{"valueRid":60,"value":"Err06-GPRS Network registration failure","handleConfig":null,"online":0,"event":1},{"valueRid":61,"value":"Err07-GPRS registration denied","handleConfig":null,"online":0,"event":1},{"valueRid":62,"value":"Err08-No APN configured","handleConfig":null,"online":0,"event":1},{"valueRid":63,"value":"Err09-GPRS connection not establish","handleConfig":null,"online":0,"event":1},{"valueRid":64,"value":"Err10-HES IP/Port not configured","handleConfig":null,"online":0,"event":1},{"valueRid":65,"value":"Err11-HES port not open","handleConfig":null,"online":0,"event":1}],"default":[54],"handleConfig":null,"online":0,"event":1,"allowcreate":1}],"online":0,"event":1,"allowcreate":0,"default":[]},{"cpaRid":857,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20004,"value":"January ","handleConfig":null,"online":0,"event":1},{"valueRid":20005,"value":"February","handleConfig":null,"online":0,"event":1},{"valueRid":20006,"value":"March","handleConfig":null,"online":0,"event":1},{"valueRid":20007,"value":"April","handleConfig":null,"online":0,"event":1},{"valueRid":20008,"value":"May","handleConfig":null,"online":0,"event":1},{"valueRid":20009,"value":"June","handleConfig":null,"online":0,"event":1},{"valueRid":20010,"value":"July","handleConfig":null,"online":0,"event":1},{"valueRid":20011,"value":"August","handleConfig":null,"online":0,"event":1},{"valueRid":20012,"value":"September","handleConfig":null,"online":0,"event":1},{"valueRid":20013,"value":"October","handleConfig":null,"online":0,"event":1},{"valueRid":20014,"value":"November","handleConfig":null,"online":0,"event":1},{"valueRid":20015,"value":"December","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":1,"default":[]},{"cpaRid":858,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20016,"value":"2017","handleConfig":null,"online":0,"event":1},{"valueRid":20017,"value":"2018","handleConfig":null,"online":0,"event":1},{"valueRid":20018,"value":"2019","handleConfig":null,"online":0,"event":1},{"valueRid":20019,"value":"2020","handleConfig":null,"online":0,"event":1},{"valueRid":20020,"value":"2021","handleConfig":null,"online":0,"event":1},{"valueRid":20021,"value":"2022","handleConfig":null,"online":0,"event":1},{"valueRid":20022,"value":"2023","handleConfig":null,"online":0,"event":1},{"valueRid":20023,"value":"2024","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":1,"default":[]},{"cpaRid":1126,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":20283,"value":"3-PH","handleConfig":null,"online":0,"event":1},{"valueRid":20284,"value":"LTCT","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]}]');
                        return(select '[{"cpaRid":356,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"handleConfig":[{"cpaRid":69,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":54,"value":"Err00-All Good","handleConfig":null,"online":0,"event":1},{"valueRid":55,"value":"Err01-Meter NIC communication failure","handleConfig":null,"online":0,"event":1},{"valueRid":56,"value":"Err02-Modem initialization failure","handleConfig":null,"online":0,"event":1},{"valueRid":57,"value":"Err03-SIM not detected","handleConfig":null,"online":0,"event":1},{"valueRid":58,"value":"Err04-SIM invalid","handleConfig":null,"online":0,"event":1},{"valueRid":59,"value":"Err05-No GSM Network coverage","handleConfig":null,"online":0,"event":1},{"valueRid":60,"value":"Err06-GPRS Network registration failure","handleConfig":null,"online":0,"event":1},{"valueRid":61,"value":"Err07-GPRS registration denied","handleConfig":null,"online":0,"event":1},{"valueRid":62,"value":"Err08-No APN configured","handleConfig":null,"online":0,"event":1},{"valueRid":63,"value":"Err09-GPRS connection not establish","handleConfig":null,"online":0,"event":1},{"valueRid":64,"value":"Err10-HES IP/Port not configured","handleConfig":null,"online":0,"event":1},{"valueRid":65,"value":"Err11-HES port not open","handleConfig":null,"online":0,"event":1}],"default":[54],"handleConfig":null,"online":0,"event":1,"allowcreate":1}],"online":0,"event":1,"allowcreate":0,"default":[]},{"cpaRid":857,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20004,"value":"January ","handleConfig":null,"online":0,"event":1},{"valueRid":20005,"value":"February","handleConfig":null,"online":0,"event":1},{"valueRid":20006,"value":"March","handleConfig":null,"online":0,"event":1},{"valueRid":20007,"value":"April","handleConfig":null,"online":0,"event":1},{"valueRid":20008,"value":"May","handleConfig":null,"online":0,"event":1},{"valueRid":20009,"value":"June","handleConfig":null,"online":0,"event":1},{"valueRid":20010,"value":"July","handleConfig":null,"online":0,"event":1},{"valueRid":20011,"value":"August","handleConfig":null,"online":0,"event":1},{"valueRid":20012,"value":"September","handleConfig":null,"online":0,"event":1},{"valueRid":20013,"value":"October","handleConfig":null,"online":0,"event":1},{"valueRid":20014,"value":"November","handleConfig":null,"online":0,"event":1},{"valueRid":20015,"value":"December","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":1,"default":[]},{"cpaRid":858,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20016,"value":"2017","handleConfig":null,"online":0,"event":1},{"valueRid":20017,"value":"2018","handleConfig":null,"online":0,"event":1},{"valueRid":20018,"value":"2019","handleConfig":null,"online":0,"event":1},{"valueRid":20019,"value":"2020","handleConfig":null,"online":0,"event":1},{"valueRid":20020,"value":"2021","handleConfig":null,"online":0,"event":1},{"valueRid":20021,"value":"2022","handleConfig":null,"online":0,"event":1},{"valueRid":20022,"value":"2023","handleConfig":null,"online":0,"event":1},{"valueRid":20023,"value":"2024","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":1,"default":[]},{"cpaRid":1126,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":20283,"value":"3-PH","handleConfig":null,"online":0,"event":1},{"valueRid":20284,"value":"LTCT","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]}]');
                end if;  
           end;


       elsif $3 in(10) then return (select handle_config from se_dcg_hc_role_map a inner join tblprojectuserallocation b on a.role_rid=b.roleid where dcg_rid=72 and cpa_rid=10 and b.userid=$5 and  a.property_value_rid=$2  );
       elsif $2 in(3,184) then return (select '[{  "cpaRid": 74,  "readOnly": 0, "visible": 1,  "clear": 0, "mandatory": 1,   "masterValues": [],  "handleConfig": null,   "online": 0,   "event": 0,  "allowcreate": 1,  "default": []  }]');
       elsif $3 in(1017) then return (select handle_config  from se_dcg_hc_role_map where cpa_rid=1017);

       elsif $3 in(1018,1020,1019) then return (select handlerconfiguration from tblpropertyvalues where cpa_rid in($3) and propertyvalueid=$2);
 
       elsif $3 in(62) then 
          begin
                select value::jsonb->>'valueRid' into phase from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='25';
                if phase in(14,15) then return('[{"cpaRid":63,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":64,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":201,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":200,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":204,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":68,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1299,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":359,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":67,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":203,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":70,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":71,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":207,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":208,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":353,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":73,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":358,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":97,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":75,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":74,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1,"allowcreate":0}],"online":0,"event":1,"allowcreate":0},{"cpaRid":202,"readOnly":0,"visible":1,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":65,"readOnly":0,"visible":1,"clear":1,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":977,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20121,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20141,"value":"Schneider","handleConfig":null,"online":0,"event":1},{"valueRid":20142,"value":"Cyanconnode","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":981,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20122,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20143,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":979,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20120,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20144,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1007,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1303,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1063,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1062,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1302,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1061,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1060,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}]');
                else  return (select handlerconfiguration from tblcategorypropertyallocation where categorypropertyallocationid=62);        
                end if;   
          end; 
       elsif $3 in(1300) then 
        begin
                select value::jsonb->>'valueRid' into phase from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='25';
                if phase in(14,15) then return('[{"cpaRid":63,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":64,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":201,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":200,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":204,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":68,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1299,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":359,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":67,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":203,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":70,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":71,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":207,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":208,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":353,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":73,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":358,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":97,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":75,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":74,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1,"allowcreate":0}],"online":0,"event":1,"allowcreate":0},{"cpaRid":202,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":65,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[""],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":977,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20121,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20141,"value":"Schneider","handleConfig":null,"online":0,"event":1},{"valueRid":20142,"value":"Cyanconnode","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":981,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20122,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20143,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":979,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20120,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20144,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1007,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1302,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1061,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1060,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1303,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1063,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1062,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1128,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1301,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}]');
                else  return ('[{"cpaRid":63,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":64,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":201,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":200,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":204,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":68,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1299,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":359,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":67,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":203,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":70,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":71,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":207,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":208,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":353,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":73,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":[{"cpaRid":358,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":97,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":75,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":74,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1,"allowcreate":0}],"online":0,"event":1,"allowcreate":0},{"cpaRid":202,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":65,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":977,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20121,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20141,"value":"Schneider","handleConfig":null,"online":0,"event":1},{"valueRid":20142,"value":"Cyanconnode","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":981,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20122,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20143,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":979,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20120,"value":"Others","handleConfig":null,"online":0,"event":1},{"valueRid":20144,"value":"Intech","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1007,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1302,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1061,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1060,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1303,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":1063,"value":"Intech","handleConfig":null,"online":0,"event":0},{"valueRid":1062,"value":"Krishna","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1128,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1301,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}]');        
                end if;   
        end;

       elsif ($3=1013 and $6=13) then  
         BEGIN
            select (value::jsonb->>'value')::jsonb->>'meter_type' mt,(value::jsonb->>'value')::jsonb->>'communication_type' ct ,(value::jsonb->>'value')::jsonb->>'scan_type' st into mtype 
            from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='1013';
                    if (mtype.st='QRCODE') then
                      begin
                           if ((mtype.mt='RF'or mtype.ct='RF') and mtype.st='QRCODE') then 
                            return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20169);

                           elsif ((mtype.mt='Cellular'or mtype.ct='Cellular') and mtype.st='QRCODE') then 
                            return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20168);

                           elsif ((mtype.mt='GPRS'or mtype.ct='GPRS') and mtype.st='QRCODE') then 
                            return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20168);

                           else  return(select handle_config from se_dcg_hc_map where cpa_rid=1017);
                           end if;
                       end;

                    else return(select handle_config from se_dcg_hc_map where cpa_rid=1013); 
                  end if;
        END;

     elsif($3=1016 and $6=13) then
        begin
           select value::jsonb->>'valueRid' into stype from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='1016';
           if (stype='20168') then
               return(select handle_config from se_dcg_hc_map where cpa_rid=1017); 
           else return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20169);
           end if;
        end;
 
-----------------------------------ping
--    elsif($3=1385) then
--    begin
--                   -- select value::jsonb->>'value' into pingval1 from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='1385';
--                    if (pingval1::jsonb->>'status' ilike '%fail%' AND pingval1::jsonb->>'messageCode'='2') then return('[{"cpaRid":1386,"readOnly":0,"visible":1,"clear":1,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1387,"readOnly":0,"visible":0,"clear":1,"mandatory":1,"masterValues":[],
--                   "default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}]');
--                    elsif (pingval1::jsonb->>'status' ilike '%fail%' AND pingval1::jsonb->>'messageCode'='1') then return('[{"cpaRid":1386,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1}]');
--                    elsif (pingval1::jsonb->>'status' ilike '%success%' AND pingval1::jsonb->>'messageCode'='0')then return ('[{"cpaRid":1386,"readOnly":0,"visible":1,"clear":1,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1387,"readOnly":0,"visible":0,"clear":1,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}]');
--                    else return (select '');
--                    end if;
--    end;
--
--    elsif($3=1386) then
--    begin
--                   -- select value::jsonb->>'value' into pingval2 from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='1386';
--                    if (pingval2::jsonb->>'status' ilike '%fail%' AND pingval2::jsonb->>'messageCode'='1') then return('[{"cpaRid":1387,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1}]');
--                    elsif (pingval2::jsonb->>'status' ilike '%fail%' AND pingval2::jsonb->>'messageCode'='2') then return('[{"cpaRid":1387,"readOnly":0,"visible":1,"clear":1,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}]');
--                    else return (select '');
--                 end if;
--    end;

------------------------ping--------------------------------

    elsif $3 in (664) then return (select '');
    elsif $3 IN(206,113) then
        PERFORM push_aiprocesseddata(maxresp, 45, '{}',72);
        RETURN '';
    elsif $3 = 114 then
        PERFORM push_aiprocesseddata(maxresp, 46, '{}',72);
        RETURN '';
    elsif $3 IN(1404,910) then
    PERFORM push_aiprocesseddata(maxresp, 970, '{}',72);
    RETURN '';
    elsif $3 IN(855) then
    PERFORM push_aiprocesseddata(maxresp, 969, '{}',72);
    RETURN '';
    else return (select '');
    end if;

END;

--end of mi

elsif $3=25 and $8=71 then 
       begin 
            return (
            with tempcte as (select jsonb_array_elements($12::jsonb) as jsonval)
            ,tempcte1 as (select jsonval::json->>'cpaRid' cpaid,jsonval::json->>'valueRid' val from tempcte )
          select (case when val ='84' then   '[  {    "cpaRid": 910,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 1,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 855,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 0,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 968,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 1,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 969,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 1,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 970,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 1,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 973,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 1,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 32,    "readOnly": 0,    "visible": 1,    "clear": 1,    "mandatory": 0,    "masterValues": [      {"valueRid": 91,"value": "Faulty Meter","handleConfig": [  {    "cpaRid": 910,    "readOnly": 0,    "visible": 0,    "clear": 1,    "mandatory": 0,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 855,    "readOnly": 0,    "visible": 0,    "clear": 1,    "mandatory": 0,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 968,    "readOnly": 0,    "visible": 0,    "clear": 1,    "mandatory": 0,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  }],"online": 0,"event": 1      },      {"valueRid": 92,"value": "No Display","handleConfig": [  {    "cpaRid": 910,    "readOnly": 0,    "visible": 0,    "clear": 1,    "mandatory": 0,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 855,    "readOnly": 0,    "visible": 0,    "clear": 1,    "mandatory": 0,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 968,    "readOnly": 0,    "visible": 0,    "clear": 1,    "mandatory": 0,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  }],"online": 0,"event": 1      },      {"valueRid": 93,"value": "Meter Burn","handleConfig": [  {    "cpaRid": 910,    "readOnly": 0,    "visible": 0,    "clear": 1,    "mandatory": 0,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 855,    "readOnly": 0,    "visible": 0,    "clear": 1,    "mandatory": 0,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 968,    "readOnly": 0,    "visible": 0,    "clear": 1,    "mandatory": 0,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  }],"online": 0,"event": 1      },      {"valueRid": 94,"value": "Meter Tampered","handleConfig": [  {    "cpaRid": 973,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 1,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 969,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 0,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 970,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 1,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  }],"online": 0,"event": 0      },      {"valueRid": 95,"value": "Meter Sl.No Mismatch","handleConfig": [  {    "cpaRid": 973,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 1,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 969,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 0,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 970,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 1,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  }],"online": 0,"event": 0      },      {"valueRid": 96,"value": "Found Ok","handleConfig": [  {    "cpaRid": 973,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 1,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 969,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 0,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  },  {    "cpaRid": 970,    "readOnly": 0,    "visible": 1,    "clear": 0,    "mandatory": 1,    "masterValues": [],    "default": [],    "handleConfig": null,    "online": 0,    "event": 0,    "allowcreate": 0  }],"online": 0,"event": 0 }],    "default": [],    "handleConfig": null,    "online": 0,    "event": 1,    "allowcreate": 0  }]'
                      else  
                    (  select handle_config from se_dcg_hc_map where cpa_rid=25 and dcg_rid=71  and property_value_rid  in($2) )
                     end)
          from tempcte1 where cpaid='10') ;    

       end;


elsif ($3=805 and $6=13 and $8=43) then 
begin
  if exists (select distnid from tblresponselogs r where r.distnid=$9 and r.activityid=$8 and r.resurvey=1 and r.projectid=$6)  then
      begin
            select max(responselogid) from tblresponselogs a where a.projectid=$6 and a.activityid=$8 and distnid=$9 --and a.distcode=$10 
            into maxresp1;

                return (select '[{
                "cpaRid": 804,
                "readOnly": 1,
                "visible": 1,
                "clear": 1,
                "mandatory": 1,
                "masterValues": [],
                "handleConfig": null,
                "online": 0,
                "event": 0,
                "allowcreate": 0,
                "default": ["'||dummycodeci||'"]
                },
                {
                "cpaRid": 808,
                "readOnly": 0,
                "visible": 1,
                "clear": 0,
                "mandatory": 1,
                "masterValues": [],
                "handleConfig": null,
                "online": 1,
                "event": 1,
                "allowcreate": 0,
                "default": []
                }

        ]' hc from (
        select items.value  dummycodeci
        from tblresponselogs,jsonb_to_recordset(tblresponselogs.response ::jsonb -> 'propertiesBean') as items( value text,"valueId" int,categorypropertyallocationid int4)
        where  responselogid =maxresp1 and items.categorypropertyallocationid in (804) 
--                select value::jsonb->>'value' dummycodeci
--                from tbldistributionnodeudf_master 
--                cross join lateral jsonb_array_elements(tbldistributionnodeudf_master.lastjsondata)
--                where value::jsonb->>'value'<>'' and value::jsonb->>'cpaid'='804' and distributionnodeid=$9 and lastactivityid=$8 and lastjsondata is not null
               ) as p);

       end;
   else
       begin
          if exists (select dummy_code from distribution_nodetype_user_seq_maping dnm where dnm.userid=$5 and dnm.dist_nodetype_id=7)  then
             begin

             select d.distributionnodeid::varchar into feedercode from tbldistributionnodes d where d.distributionnodeid=$1::bigint and d.distributionnodetypeid is not null;
                return (select '[{
                    "cpaRid": 804,
                    "readOnly": 1,
                    "visible": 1,
                    "clear": 1,
                    "mandatory": 1,
                    "masterValues": [],
                    "handleConfig": null,
                    "online": 0,
                    "event": 0,
                    "allowcreate": 0,
                    "default": ["'||feedercode||'-'||usercode||'-'||LPAD(generate_series(incrmnt,incrmnt)::text, 5, '0')||'"]
                                },
                                {
                    "cpaRid": 808,
                    "readOnly": 0,
                    "visible": 1,
                    "clear": 0,
                    "mandatory": 1,
                    "masterValues": [],
                    "handleConfig": null,
                    "online": 1,
                    "event": 1,
                    "allowcreate": 0,
                    "default": []
                                }
                 ]' hc from (
                select dummy_code+1 incrmnt,dnm.userid usercode from distribution_nodetype_user_seq_maping dnm 
                where dnm.userid=$5 and dnm.dist_nodetype_id=7) as p);

            end;

        elsif not exists (select dummy_code from distribution_nodetype_user_seq_maping dnm where dnm.userid=$5 and dnm.dist_nodetype_id=7)  then
           begin

                  if exists (select pl.userid from tblprojectuserallocation pl where pl.roleid=65 and pl.userid=$5) then
                    begin
                        insert into distribution_nodetype_user_seq_maping (dist_nodetype_id,userid,activityid,dummy_code,distnid,dt_code) values (7,$5,$8,0,$1::int4,0001);

                        insert into distribution_nodetype_user_seq_maping_history (dist_nodetype_id,userid,activityid,dummy_code,updated_datetime,parent_distnid,current_distid) values (7,$5,$8,0,now()
                        ,(case when $1='' then 0::int4 else $1::int4 end),$9);

                    end;
                  end if;
            return (select '[{
                                    "cpaRid": 804,
                                    "readOnly": 1,
                                    "visible": 1,
                                    "clear": 1,
                                    "mandatory": 1,
                                    "masterValues": [],
                                    "handleConfig": null,
                                    "online": 0,
                                    "event": 0,
                                    "allowcreate": 0,
                                    "default": ["'||feedercode1||'-'||$5||'-'||'00001'||'"]
                                    },{
                                    "cpaRid": 808,
                                    "readOnly": 0,
                                    "visible": 1,
                                    "clear": 0,
                                    "mandatory": 1,
                                    "masterValues": [],
                                    "handleConfig": null,
                                    "online": 1,
                                    "event": 1,
                                    "allowcreate": 0,
                                    "default": []
                                        }
                                ]' hc from (
                                    select d.distributionnodeid::varchar feedercode1 from tbldistributionnodes d where d.distributionnodeid=$1::bigint and d.distributionnodetypeid is not null
                                    ) as p);

                end;
                end if;

       end;
       end if;
end;

elsif ($3=808 and $6=13 and $8=43) then 
    begin

    if exists (select distnid from tblresponselogs r where r.distnid=$9 and r.resurvey=1 and r.activityid=$8 and  r.projectid=$6)  then
        begin
            return (select '[
                            {
                            "cpaRid": 494,
                            "readOnly": 0,
                            "visible": 1,
                            "clear": 0,
                            "mandatory": 1,
                            "masterValues": [
                            {
                            "valueRid": 15883,
                            "value": "Accessible",
                            "handleConfig": null,
                            "online": 0,
                            "event": 1
                            },
                            {
                            "valueRid": 15884,
                            "value": "Not Accessible",
                            "handleConfig": null,
                            "online": 0,
                            "event": 1
                            }
                            ],
                            "handleConfig": null,
                            "online": 0,
                            "event": 0,
                            "allowcreate": 0,
                            "default": [
                            "15883"
                            ]
                            },
                            {
                            "cpaRid": 805,
                            "readOnly": 0,
                            "visible": 1,
                            "clear": 0,
                            "mandatory": 1,
                            "masterValues": [],
                            "handleConfig": null,
                            "online": 1,
                            "event": 1,
                            "allowcreate": 0,
                            "default": []
                            }
                            ]');
        end;

    else

        begin

            if ($12 is not null and $12<>'' and $12::varchar like ('[%') and length($12)>5 ) then
                begin
                with tempcte as (select jsonb_array_elements($12::jsonb) as jsonval )
                ,tempcte1 as (select jsonval::json->>'cpaRid' cpaid,jsonval::json->>'valueRid' val from tempcte )
                select val into cnbval from tempcte1 where cpaid='494' ; 
                end;
            end if;

            if exists (select dummy_code from distribution_nodetype_user_seq_maping dnm1 where dnm1.userid=$5 and dnm1.dist_nodetype_id=7 and (cnbval='' or cnbval is null))  then
                begin
   
                    if exists (select pr.userid from tblprojectuserallocation pr where pr.roleid=65 and pr.userid=$5) then
                             begin
                                update distribution_nodetype_user_seq_maping d set dummy_code=dummy_code+1,dt_code=dt_code+1,updated_datetime=now() where d.userid=$5 and d.activityid=$8 and dist_nodetype_id=7;

                                insert into distribution_nodetype_user_seq_maping_history (dist_nodetype_id,userid,activityid,dummy_code,updated_datetime,parent_distnid,current_distid) values 
                                  (7,$5,$8,(select h.dummy_code from distribution_nodetype_user_seq_maping h where h.userid=$5 and h.activityid=$8 and h.dist_nodetype_id=7 limit 1),now()
                                    ,(case when $1='' then 0::int4 else $1::int4 end),$9);
                             end;
                    end if;
                 end;
            end if;
        return (select '[
        {
        "cpaRid": 494,
        "readOnly": 0,
        "visible": 1,
        "clear": 0,
        "mandatory": 1,
        "masterValues": [
        {
        "valueRid": 15883,
        "value": "Accessible",
        "handleConfig": null,
        "online": 0,
        "event": 1
        },
        {
        "valueRid": 15884,
        "value": "Not Accessible",
        "handleConfig": null,
        "online": 0,
        "event": 1
        }
        ],
        "handleConfig": null,
        "online": 0,
        "event": 0,
        "allowcreate": 0,
        "default": [
        "15883"
        ]
        },
        {
        "cpaRid": 805,
        "readOnly": 1,
        "visible": 1,
        "clear": 0,
        "mandatory": 1,
        "masterValues": [],
        "handleConfig": null,
        "online": 1,
        "event": 1,
        "allowcreate": 0,
        "default": []
        }
        ]');

        end;
    end if;

    end;
elsif ($3=653 and $6=13 and $8=45) then 
    begin
        if exists (select distnid from tblresponselogs r where r.distnid=$9 and r.activityid=45 and r.resurvey=1 and r.projectid=9)  then
            return (select '[{
                "cpaRid": 671,
                "readOnly": 1,
                "visible": 1,
                "clear": 1,
                "mandatory": 1,
                "masterValues": [],
                "handleConfig": null,
                "online": 0,
                "event": 0,
                "allowcreate": 0,
                "default": ["'||dummycodeci||'"]
                }]' hc from (
                select value::jsonb->>'value' dummycodeci
                from tbldistributionnodeudf_master 
                cross join lateral jsonb_array_elements(tbldistributionnodeudf_master.lastjsondata)
                where value::jsonb->>'value'<>'' and value::jsonb->>'cpaid'='671' and distributionnodeid=$9 and lastactivityid=45 and lastjsondata is not null) as p);
        else
            begin

                if exists (select dummy_code from distribution_nodetype_user_seq_maping dnm where dnm.userid=$5 and dnm.dist_nodetype_id=6)  then
                    begin
                    select d.distributionnodecode into subcode from tbldistributionnodes d where d.distributionnodeid=$1::bigint and d.distributionnodetypeid is not null;
                    return (select '[{
                        "cpaRid": 671,
                        "readOnly": 1,
                        "visible": 1,
                        "clear": 1,
                        "mandatory": 1,
                        "masterValues": [],
                        "handleConfig": null,
                        "online": 0,
                        "event": 0,
                        "allowcreate": 0,
                        "default": ["'||subcode||'-'||usercode||'-'||LPAD(generate_series(incrmnt,incrmnt)::text, 5, '0')||'"]
                                    }]' hc from (
                    select dummy_code+1 incrmnt,dnm.userid usercode from distribution_nodetype_user_seq_maping dnm 
                    where dnm.userid=$5 and dnm.dist_nodetype_id=6) as p);

                    end;

                else 
                    begin
                    return (select '[{
                        "cpaRid": 671,
                        "readOnly": 1,
                        "visible": 1,
                        "clear": 1,
                        "mandatory": 1,
                        "masterValues": [],
                        "handleConfig": null,
                        "online": 0,
                        "event": 0,
                        "allowcreate": 0,
                        "default": ["'||subcode1||'-'||$5||'-'||'00001'||'"]
                         }]' hc from (
                        select d.distributionnodecode subcode1 from tbldistributionnodes d where d.distributionnodeid=$1::bigint and d.distributionnodetypeid is not null
                        ) as p);

                    end;
                end if;

            end;
        end if;
     end;
 
elsif( $8=3 and $3=1182 and $6=13) then  
     BEGIN
        select (value::jsonb->>'value')::jsonb->>'meter_type' mt,(value::jsonb->>'value')::jsonb->>'communication_type' ct ,(value::jsonb->>'value')::jsonb->>'scan_type' st into mtype 
        from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='1182';
        if (mtype.st='QRCODE') then
            begin
               if ((mtype.mt='RF'or mtype.ct='RF') and mtype.st='QRCODE') then 
                    return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20925);

               elsif ((mtype.mt in('Cellular','cellular') or mtype.ct in('Cellular','cellular')) and mtype.st='QRCODE') then 
                    return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20926);

               elsif ((mtype.mt='GPRS'or mtype.ct='GPRS') and mtype.st='QRCODE') then 
                    return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20926);

               else --return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20168);
                    return(select handle_config from se_dcg_hc_map where cpa_rid=1017);
               end if;
            end;
         else
              return(select handle_config from se_dcg_hc_map where cpa_rid=1182);
         end if;
     END;

elsif($8=3 and $3=1205 and $6=13) then  

     select a.roleid from tblprojectuserallocation a where a.userid=$5 and a.projectid=$6 into rolerid;

     if( ($1::jsonb->>'signal_strength')::integer<-105)then 
        return (select '[{"cpaRid":143,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1138,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":171,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":127,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":116,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":98,"value":"Urban","handleConfig":null,"online":0,"event":0}],"default":["98"],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":132,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":134,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1186,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":122,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":125,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1139,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":244,"value":"No","handleConfig":null,"online":0,"event":1},{"valueRid":243,"value":"Yes","handleConfig":null,"online":0,"event":1}],"default":["244"],"handleConfig":null,"online":0,"event":1,"allowcreate":0},{"cpaRid":1206,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":20927,"value":" ADDITION OF LOAD","handleConfig":null,"online":0,"event":0},{"valueRid":20933,"value":" FAULTY METER","handleConfig":null,"online":0,"event":0},{"valueRid":20930,"value":" NORMAL REPLACEMENT","handleConfig":null,"online":0,"event":0},{"valueRid":20931,"value":" THEFT CASE","handleConfig":null,"online":0,"event":0},{"valueRid":20932,"value":"BROKEN METER","handleConfig":null,"online":0,"event":0},{"valueRid":20928,"value":"BURNT METER","handleConfig":null,"online":0,"event":0},{"valueRid":20934,"value":"DEFECTIVE PIECE","handleConfig":null,"online":0,"event":0},{"valueRid":20929,"value":"REDUCTION OF LOAD","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":131,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":100,"value":"Net Metering","handleConfig":null,"online":0,"event":1},{"valueRid":101,"value":"Postpaid","handleConfig":null,"online":0,"event":1},{"valueRid":99,"value":"Prepaid","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0},{"cpaRid":1141,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":20070,"value":"Regular","handleConfig":null,"online":0,"event":0}],"default":["20070"],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1142,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":137,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":129,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1187,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1165,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":163,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":139,"value":"1-PH","handleConfig":null,"online":0,"event":1},{"valueRid":140,"value":"3-PH","handleConfig":null,"online":0,"event":1},{"valueRid":138,"value":"LTCT","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0},{"cpaRid":1144,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0},{"cpaRid":1145,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":145,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":110,"value":"Err00-All Good","handleConfig":null,"online":0,"event":0},{"valueRid":104,"value":"Err01-Meter NIC communication failure","handleConfig":null,"online":0,"event":0},{"valueRid":108,"value":"Err02-Modem initialization failure","handleConfig":null,"online":0,"event":0},{"valueRid":107,"value":"Err03-SIM not detected","handleConfig":null,"online":0,"event":0},{"valueRid":106,"value":"Err04-SIM invalid","handleConfig":null,"online":0,"event":0},{"valueRid":111,"value":"Err05-No GSM Network coverage","handleConfig":null,"online":0,"event":0},{"valueRid":112,"value":"Err06-GPRS Network registration failure","handleConfig":null,"online":0,"event":0},{"valueRid":113,"value":"Err07-GPRS registration denied","handleConfig":null,"online":0,"event":0},{"valueRid":114,"value":"Err08-No APN configured","handleConfig":null,"online":0,"event":0},{"valueRid":115,"value":"Err09-GPRS connection not establish","handleConfig":null,"online":0,"event":0},{"valueRid":109,"value":"Err10-HES IP/Port not configured","handleConfig":null,"online":0,"event":0},{"valueRid":105,"value":"Err11-HES port not open","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1149,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1150,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1151,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1152,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1200,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1153,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1202,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1154,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1155,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1176,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1177,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1158,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":170,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1162,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1161,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1159,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":174,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":166,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}] ');
     else
        if ($3=1205 and rolerid=9) then
            return (select handle_config from se_dcg_hc_role_map where cpa_rid=1205 and role_rid=9);
        else
            return(select handle_config from se_dcg_hc_role_map where cpa_rid=1205 and role_rid<>9);
        end if;
     end if;

elsif( $8=44 and $6=13 ) then
  BEGIN
    if ($3=805 and $6=13 and $8=44) then 
        begin
            return (select '[{
                              "cpaRid": 494,
                              "readOnly": 1,
                              "visible": 1,
                              "clear": 0,
                              "mandatory": 1,
                              "masterValues": [
                                                {
                                                     "valueRid": 15883,
                                                     "value": "Accessible",
                                                     "handleConfig": null,
                                                     "online": 0,
                                                     "event": 1
                                                 }

                                                 ],
                             "handleConfig": null,
                             "online": 0,
                             "event": 1,
                             "allowcreate": 1,
                             "default": [
                                         "15883"
                                        ]
                              }]' dc );

         end ;
    elsif ($3=1018 and $6=13) then  
        BEGIN
            select (value::jsonb->>'value')::jsonb->>'meter_type' mt,(value::jsonb->>'value')::jsonb->>'communication_type' ct ,(value::jsonb->>'value')::jsonb->>'scan_type' st into mtype 
            from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='1018';
            if (mtype.st='QRCODE') then
              begin
               if ((mtype.mt='RF'or mtype.ct='RF') and mtype.st='QRCODE') then  return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20171);
               elsif ((mtype.mt='Cellular'or mtype.ct='Cellular') and mtype.st='QRCODE') then 
                    return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20170);

               elsif ((mtype.mt='GPRS'or mtype.ct='GPRS') and mtype.st='QRCODE') then 
                    return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20170);

               else return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20170);
                    --return(select handle_config from se_dcg_hc_map where cpa_rid=1019);
               end if;
              end;

            else
               return(select handlerconfiguration from tblcategorypropertyallocation where categorypropertyallocationid=1018);
            end if;
        END;

    elsif($3=1020 and $6=13) then
        begin
           select value::jsonb->>'valueRid' into stype from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='1020';
           if (stype='20170') then
               return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20170);
                 --select handle_config from se_dcg_hc_map where cpa_rid=1019);
                 --return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20170);
           else return(select handlerconfiguration from tblpropertyvalues where propertyvalueid=20171);
           end if;
        end;

    elsif ($3=552 and $6=13) then  
         return (select handle_config from se_dcg_hc_role_map where cpa_rid=552);

    elsif ($3=1019 and $6=13) then  
         return (select handlerconfiguration from tblcategorypropertyallocation where categorypropertyallocationid=1019);

    elsif ($3=494 and $6=13) then  
         return (select handle_config  from se_dcg_hc_map where property_value_rid=$2 and dcg_rid=44);
    
    elsif ($3=988 and $6=13) then  
         return (select handle_config  from se_dcg_hc_map where property_value_rid=$2 and dcg_rid=44);
    else return (select '');
    end if;
   END;

elsif ($3=653 and $6=13 and $8=46) then 
    begin
        if exists (select value::jsonb->>'value' dummycodeci
               from tbldistributionnodeudf_master 
               cross join lateral jsonb_array_elements(tbldistributionnodeudf_master.lastjsondata)
               where value::jsonb->>'value'<>'' and value::jsonb->>'cpaid'='671' and distributionnodeid=$9 and lastactivityid=45 and lastjsondata is not null)  then
          begin
            return (select '[{
                "cpaRid": 671,
                "readOnly": 1,
                "visible": 1,
                "clear": 1,
                "mandatory": 1,
                "masterValues": [],
                "handleConfig": null,
                "online": 0,
                "event": 0,
                "allowcreate": 0,
                "default": ["'||dummycodeci||'"]
                }]' hc from (
                select value::jsonb->>'value' dummycodeci
                from tbldistributionnodeudf_master 
                cross join lateral jsonb_array_elements(tbldistributionnodeudf_master.lastjsondata)
                where value::jsonb->>'value'<>'' and value::jsonb->>'cpaid'='671' and distributionnodeid=$9 and lastactivityid=45 and lastjsondata is not null) as p);
          end;

        else 
           begin
            return (select '[{
                "cpaRid": 671,
                "readOnly": 1,
                "visible": 1,
                "clear": 1,
                "mandatory": 1,
                "masterValues": [],
                "handleConfig": null,
                "online": 0,
                "event": 0,
                "allowcreate": 0,
                 "default": ["'||  '-'||'"]
                }]' hc );

          end;
        end if;
    end;

elsif $3 in(39)  then 
    BEGIN
       return (
        with tempcte as (select jsonb_array_elements($12::jsonb) as jsonval)
        ,tempcte1 as (select jsonval::json->>'cpaRid' cpaid,jsonval::json->>'value' val from tempcte )
        ,finalcte as (
        select (case when (a.val::numeric-coalesce(a2.billread,0)::numeric)<0 then '(-)'||abs((a.val::numeric-coalesce(a2.billread,0)::numeric))::text else (a.val::numeric-coalesce(a2.billread,0)::numeric)::text end) finalval 
        from tempcte1 a
        left join lateral (select max(discombillreadid) maxid from tbldiscombillreads a where a.activityid=71 and distnid=$9) a1 on true
        left join tbldiscombillreads a2 on a1.maxid=a2.discombillreadid
        where cpaid::int4=39)
        select '[{"cpaRid": 664,"readOnly": 1,"visible": 1,"clear": 1,"mandatory": 0,"masterValues": [],"handleConfig": null,"online": 0,"event": 0,"allowcreate": 0,"default": ["'||finalval ||'"]}]' from finalcte); 
    END;
 
elsif $3 in(740) then--and oldmetphase."valueId"<>15  
    BEGIN
       return (
        with tempcte as (select jsonb_array_elements($12::jsonb) as jsonval)
        ,tempcte1 as (select jsonval::json->>'cpaRid' cpaid,jsonval::json->>'value' val from tempcte )
        ,finalcte as (
        select (case when (a.val::numeric-coalesce(a2.billread,0)::numeric)<0 then '(-)'||abs((a.val::numeric-coalesce(a2.billread,0)::numeric))::text else (a.val::numeric-coalesce(a2.billread,0)::numeric)::text end) finalval 
        from tempcte1 a
        left join lateral (select max(discombillreadid) maxid from tbldiscombillreads a where a.activityid=73 and distnid=$9) a1 on true
        left join tbldiscombillreads a2 on a1.maxid=a2.discombillreadid
        where cpaid::int4=740)
        select '[{"cpaRid": 751,"readOnly": 0,"visible": 1,"clear": 0,"mandatory": 0,"masterValues": [],"handleConfig": null,"online": 0,"event": 1,"allowcreate": 0,"default": []} , {"cpaRid": 757,"readOnly": 1,"visible": 1,"clear": 1,"mandatory": 0,"masterValues": [],"handleConfig": null,"online": 0,"event": 0,"allowcreate": 0,"default": ["'||finalval ||'"]    
                }]' from finalcte); 
    END;


select max(responselogid) from tblresponselogs a where a.projectid=$6 and a.activityid=$8 and distnid=$9 and a.distcode=$10 into maxresp;

elsif $8=73 and $6=13 and $3 in (1416,740) then
    PERFORM push_aiprocesseddata(maxresp, 739, '{}',73);
    RETURN '';
elsif $8=73 and $6=13 and $3 in (742) then
    PERFORM push_aiprocesseddata(maxresp, 741, '{}',73);
    RETURN '';
elsif $8=73 and $6=13 and $3 in (677,1105) then
    PERFORM push_aiprocesseddata(maxresp, 1108, '{}',73);
    RETURN '';
elsif $8=73 and $6=13 and $3 in (1106) then
    PERFORM push_aiprocesseddata(maxresp, 1107, '{}',73);
    RETURN '';

elsif $3 in (701) and $8=73 then 
    begin
        return (select '[{"cpaRid":702,"readOnly":0,"visible":1,"clear":1,"mandatory":1,"masterValues":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0,"default":[]},{"cpaRid":680,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":16386,"value":"1-PH","handleConfig":null,"online":0,"event":0},{"valueRid":16387,"value":"3-PH","handleConfig":null,"online":0,"event":0},{"valueRid":16388,"value":"LTCT","handleConfig":null,"online":0,"event":0}],"handleConfig":null,"online":0,"event":0,"allowcreate":1,"default":[]},{"cpaRid":694,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":16394,"value":"Postpaid","handleConfig":null,"online":0,"event":1},{"valueRid":16393,"value":"Solar Meter","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":1,"default":[]}]');
    end;

elsif $3 in(745) and $8=73 and $2 in(16423,16424) then 
    BEGIN
        return (
            select '[{"cpaRid":654,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":16276,"value":"GPRS","handleConfig":null,"online":0,"event":1},{"valueRid":16275,"value":"RF","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":1,"default":[]},{"cpaRid":656,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16280,"value":"No","handleConfig":null,"online":0,"event":0},{"valueRid":16279,"value":"Yes","handleConfig":null,"online":0,"event":0}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":657,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16282,"value":"Clear","handleConfig":null,"online":0,"event":0},{"valueRid":16281,"value":"Not Clear","handleConfig":null,"online":0,"event":0}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":658,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":715,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":708,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":700,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":704,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":16399,"value":"Err00-All Good","handleConfig":null,"online":0,"event":1},{"valueRid":16474,"value":"Err01-Meter NIC communication failure","handleConfig":null,"online":0,"event":1},{"valueRid":16475,"value":"Err02-Modem initialization failure","handleConfig":null,"online":0,"event":1},{"valueRid":16476,"value":"Err03-SIM not detected","handleConfig":null,"online":0,"event":1},{"valueRid":16477,"value":"Err04-SIM invalid","handleConfig":null,"online":0,"event":1},{"valueRid":16478,"value":"Err05-No GSM Network coverage","handleConfig":null,"online":0,"event":1},{"valueRid":16479,"value":"Err06-GPRS Network registration failure","handleConfig":null,"online":0,"event":1},{"valueRid":16480,"value":"Err07-GPRS registration denied","handleConfig":null,"online":0,"event":1},{"valueRid":16481,"value":"Err08-No APN configured","handleConfig":null,"online":0,"event":1},{"valueRid":16482,"value":"Err09-GPRS connection not establish","handleConfig":null,"online":0,"event":1},{"valueRid":16483,"value":"Err10-HES IP/Port not configured","handleConfig":null,"online":0,"event":1},{"valueRid":16484,"value":"Err11-HES port not open","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":706,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":719,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":717,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":701,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":716,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":703,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":710,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":709,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":721,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":722,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":705,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":711,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":707,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":702,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":714,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":718,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":749,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16489,"value":"No","handleConfig":null,"online":0,"event":1},{"valueRid":16488,"value":"Yes","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]}]');
    END;

elsif $3 in(657) and $8=73 and $2 in(16281) then 
   BEGIN
       return (select '[{"cpaRid":700,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]}]'); 
   END;

elsif $3 in(657) and $8=73 and $2 in(16282) then 
   BEGIN
       return (select '[{"cpaRid":1083,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20247,"value":"Check Meter","handleConfig":null,"online":0,"event":1},{"valueRid":20246,"value":"Main Meter","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1}]'); 
   END;

elsif $3 in(700) and $8=73  then 
   BEGIN
       return (select '[{"cpaRid":701,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0,"default":[]},{"cpaRid":57,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]}]');--,{"cpaRid":703,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]};
   END;

elsif $3 in(658) and $8=73  then 
   BEGIN
       return (select '[{"cpaRid":700,"readOnly":0,"visible":1,"clear":1,"mandatory":1,"masterValues":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0,"default":[]},{"cpaRid":701,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":702,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":703,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":704,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16399,"value":"Err00-All Good","handleConfig":null,"online":0,"event":0},{"valueRid":16474,"value":"Err01-Meter NIC communication failure","handleConfig":null,"online":0,"event":0},{"valueRid":16475,"value":"Err02-Modem initialization failure","handleConfig":null,"online":0,"event":0},{"valueRid":16476,"value":"Err03-SIM not detected","handleConfig":null,"online":0,"event":0},{"valueRid":16477,"value":"Err04-SIM invalid","handleConfig":null,"online":0,"event":0},{"valueRid":16478,"value":"Err05-No GSM Network coverage","handleConfig":null,"online":0,"event":0},{"valueRid":16479,"value":"Err06-GPRS Network registration failure","handleConfig":null,"online":0,"event":0},{"valueRid":16481,"value":"Err08-No APN configured","handleConfig":null,"online":0,"event":0},{"valueRid":16482,"value":"Err09-GPRS connection not establish","handleConfig":null,"online":0,"event":0},{"valueRid":16483,"value":"Err10-HES IP/Port not configured","handleConfig":null,"online":0,"event":0},{"valueRid":16484,"value":"Err11-HES port not open","handleConfig":null,"online":0,"event":0},{"valueRid":16480,"value":"Erro7-GPRS registration denied","handleConfig":null,"online":0,"event":0}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":705,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":707,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":708,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":709,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":710,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":711,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":714,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":715,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":716,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":717,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":718,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":719,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":720,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":721,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":722,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":723,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":724,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":725,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":726,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]}
                            ,{"cpaRid":706,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]}]'); 
   END;

elsif $3 in(654) and $2=16276 and $8=73  then 
   BEGIN
       return (select '[{"cpaRid":655,"readOnly":0,"visible":1,"clear":1,"mandatory":1,"masterValues":[{"valueRid":16278,"value":"No","handleConfig":null,"online":0,"event":1},{"valueRid":16277,"value":"Yes","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":657,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16282,"value":"Clear","handleConfig":null,"online":0,"event":0},{"valueRid":16281,"value":"Not Clear","handleConfig":null,"online":0,"event":0}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":656,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16280,"value":"No","handleConfig":null,"online":0,"event":1},{"valueRid":16279,"value":"Yes","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":749,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16489,"value":"No","handleConfig":null,"online":0,"event":1},{"valueRid":16488,"value":"Yes","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":750,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16491,"value":"No","handleConfig":null,"online":0,"event":1},{"valueRid":16490,"value":"Yes","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":700,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":715,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":708,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":726,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":700,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":704,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":706,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":719,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":717,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":701,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":716,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":703,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":710,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":723,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":725,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":709,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":721,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":722,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":705,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":724,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":720,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":711,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":707,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":702,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":714,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":718,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[]
                            ,"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]}] '); 
   END;

elsif $3 in(654) and $2=16275 and $8=73  then 
   BEGIN
        return (select '[{"cpaRid":658,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":750,"readOnly":0,"visible":1,"clear":1,"mandatory":1,"masterValues":[{"valueRid":16491,"value":"No","handleConfig":null,"online":0,"event":1},{"valueRid":16490,"value":"Yes","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":749,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16489,"value":"No","handleConfig":null,"online":0,"event":1},{"valueRid":16488,"value":"Yes","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":655,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16278,"value":"No","handleConfig":null,"online":0,"event":1},{"valueRid":16277,"value":"Yes","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":656,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16280,"value":"No","handleConfig":null,"online":0,"event":1},{"valueRid":16279,"value":"Yes","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":700,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":715,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":708,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":726,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":700,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":704,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":706,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":719,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":717,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":701,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":716,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":703,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":710,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":723,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":725,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":709,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":721,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":722,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":705,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":724,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":720,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":711,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":707,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":702,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":714,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":718,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null
                    ,"online":0,"event":0,"allowcreate":0,"default":[]}]'); 
   END;

elsif $3 in(655) and $2=16277 and $8=73  then 
   BEGIN
        return (select '[{"cpaRid":700,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":701,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":702,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":703,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":704,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16399,"value":"Err00-All Good","handleConfig":null,"online":0,"event":0},{"valueRid":16474,"value":"Err01-Meter NIC communication failure","handleConfig":null,"online":0,"event":0},{"valueRid":16475,"value":"Err02-Modem initialization failure","handleConfig":null,"online":0,"event":0},{"valueRid":16476,"value":"Err03-SIM not detected","handleConfig":null,"online":0,"event":0},{"valueRid":16477,"value":"Err04-SIM invalid","handleConfig":null,"online":0,"event":0},{"valueRid":16478,"value":"Err05-No GSM Network coverage","handleConfig":null,"online":0,"event":0},{"valueRid":16479,"value":"Err06-GPRS Network registration failure","handleConfig":null,"online":0,"event":0},{"valueRid":16481,"value":"Err08-No APN configured","handleConfig":null,"online":0,"event":0},{"valueRid":16482,"value":"Err09-GPRS connection not establish","handleConfig":null,"online":0,"event":0},{"valueRid":16483,"value":"Err10-HES IP/Port not configured","handleConfig":null,"online":0,"event":0},{"valueRid":16484,"value":"Err11-HES port not open","handleConfig":null,"online":0,"event":0},{"valueRid":16480,"value":"Erro7-GPRS registration denied","handleConfig":null,"online":0,"event":0}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":705,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":707,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":708,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":709,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":710,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":711,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":714,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":715,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":716,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":717,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":718,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":719,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":720,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":721,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":722,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":723,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":724,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":725,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":726,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":657,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16282,"value":"Clear","handleConfig":null,"online":0,"event":0},{"valueRid":16281,"value":"Not Clear","handleConfig":null,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":658,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":706,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":656,"readOnly":0,"visible":1,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16280,"value":"No","handleConfig":null,"online":0,"event":1},{"valueRid":16279,"value":"Yes","handleConfig":null
                    ,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[16280]}]'); 
   END;

elsif $3 in(655) and $2=16278 and $8=73  then 
   BEGIN
        return (select '[{"cpaRid":656,"readOnly":0,"visible":1,"clear":1,"mandatory":0,"masterValues":[{"valueRid":16280,"value":"No","handleConfig":null,"online":0,"event":1},{"valueRid":16279,"value":"Yes","handleConfig":null
                    ,"online":0,"event":1}],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[16280]}]');
   END;

elsif $3=702 and $8=73  then   
    begin
        select value::jsonb->>'valueRid' into billingtype from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='694';

        select value::jsonb->>'valueRid' into phase from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='680';

        if(billingtype in(16394) and phase  in(16386,16387) ) then 
             return ('[{"cpaRid":703,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0},{"cpaRid":1111,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1110,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":["1"],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1291,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1}]');

        elsif(billingtype in(16394) and phase  in(16388)) then 
             return ('[{"cpaRid":703,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0},{"cpaRid":1111,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1110,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":["1"],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1291,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}]');
        else
            return(select '[{"cpaRid":703,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0,"default":[]},{"cpaRid":1111,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":[]},{"cpaRid":1110,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0,"default":["1"]},{"cpaRid":1291,"readOnly":0,"visible":1,"clear":1,"mandatory":1,"masterValues":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1,"default":[]},
                    {"cpaRid":1351,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid": 16276,"value": "GPRS","handleConfig": null,"online": 0,"event": 1},{"valueRid": 16275,"value": "RF","handleConfig": null,"online": 0,"event": 1}],"handleConfig":null,"online":0,"event":1,"allowcreate":1,"default":[]}
                    ]');        
        end if;  
    end;
 
elsif $3=704 and $8=73  then   
    begin
        select value::jsonb->>'valueRid' into billingtype from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='694';

        if( billingtype  in('16394') ) then 
             return ('[{"cpaRid":705,"readOnly":0,"visible":1,"clear":1,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0},{"cpaRid":1292,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0}]');

        elsif( billingtype  in(16393)) then 
             return ('[{"cpaRid":705,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1292,"readOnly":0,"visible":1,"clear":1,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1}]');
        else 
            return(select '[{"cpaRid":705,"readOnly":0,"visible":1,"clear":1,"mandatory":1,"masterValues":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0,"default":[]},{"cpaRid":1292,"readOnly":0,"visible":1,"clear":1,"mandatory":1,"masterValues":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1,"default":[]}]');
        end if;  
    end;

elsif $3=705 and $8=73  then   
    begin
        select value::jsonb->>'valueRid' into phase from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='680';

        if(phase in(16386,16387) ) then 
            return ('[{"cpaRid":708,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":709,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":710,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":711,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1084,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":20250,"value":"Cyanconnode","handleConfig":[{"cpaRid":1113,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1},{"valueRid":20248,"value":"Others","handleConfig":[{"cpaRid":1113,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1},{"valueRid":20249,"value":"Schneider","handleConfig":[{"cpaRid":1113,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1},{"cpaRid":714,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":715,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1096,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":20256,"value":"Intech","handleConfig":[{"cpaRid":1114,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1},{"valueRid":20255,"value":"Others","handleConfig":[{"cpaRid":1114,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1},{"cpaRid":716,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":717,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1085,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":20252,"value":"Intech","handleConfig":[{"cpaRid":1111,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1},{"cpaRid":718,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":719,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":720,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":721,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":722,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0},{"cpaRid":706,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":707,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1179,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}]'
            );
        else 
            return (select handlerconfiguration from tblcategorypropertyallocation where categorypropertyallocationid=705);
        end if; 
    end;
            
elsif $3=1292 and $8=73  then   
    begin
        select value::jsonb->>'valueRid' into phase from jsonb_array_elements($12::jsonb) as a  where value::jsonb->>'cpaRid'='680';

        if(phase in(16386,16387) ) then 
            return ('[{"cpaRid":708,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":709,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":710,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":711,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1084,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":20250,"value":"Cyanconnode","handleConfig":[{"cpaRid":1113,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1},{"valueRid":20248,"value":"Others","handleConfig":[{"cpaRid":1113,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1},{"valueRid":20249,"value":"Schneider","handleConfig":[{"cpaRid":1113,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1},{"cpaRid":714,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":715,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1096,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":20256,"value":"Intech","handleConfig":[{"cpaRid":1114,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1},{"valueRid":20255,"value":"Others","handleConfig":[{"cpaRid":1114,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1},{"cpaRid":716,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":717,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1085,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[{"valueRid":20252,"value":"Intech","handleConfig":[{"cpaRid":1111,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}],"online":0,"event":1},{"valueRid":20251,"value":"Others","handleConfig":[{"cpaRid":1111,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}],"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1},{"cpaRid":718,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":719,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":720,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":721,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":722,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":0},{"cpaRid":706,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":707,"readOnly":0,"visible":0,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1179,"readOnly":0,"visible":1,"clear":0,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1293,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1},{"cpaRid":1294,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1}]');
        else 
            return (select handlerconfiguration from tblcategorypropertyallocation where categorypropertyallocationid=1292);
        end if;  
    end;

elsif $3 in(750) and $2=16490  and $8=73  then 
    BEGIN
        return (select '[{"cpaRid": 749,"readOnly": 0,"visible": 1,"clear": 1,"mandatory": 0,"masterValues": [{"valueRid": 16489,"value": "No","handleConfig": null,"online": 0,"event": 1}, {"valueRid": 16488,"value": "Yes","handleConfig": null,"online": 0,"event": 1}],"handleConfig": null,"online": 0,"event": 0,"allowcreate": 0,"default": [16489]},
                         {"cpaRid": 656,"readOnly": 0,"visible": 0,"clear": 1,"mandatory": 0,"masterValues": [{"valueRid": 16280,"value": "No","handleConfig": null,"online": 0,"event": 1}, {"valueRid": 16279,"value": "Yes","handleConfig": null,"online": 0,"event": 1}],"handleConfig": null,"online": 0,"event": 0,"allowcreate": 0,"default": []},
                         {"cpaRid": 657,"readOnly": 0,"visible": 0,"clear": 1,"mandatory": 0,"masterValues": [{"valueRid": 16282,"value": "Clear","handleConfig": null,"online": 0,"event": 0}, {"valueRid": 16281,"value": "Not Clear","handleConfig": null,"online": 0,"event": 1}],"handleConfig": null,"online": 0,"event": 0,"allowcreate": 0,"default": []}]');
    END;

elsif $3 in(750) and $2=16491  and $8=73  then 
    BEGIN
        return (select '[{"cpaRid": 749,"readOnly": 0,"visible": 1,"clear": 1,"mandatory": 0,"masterValues": [{"valueRid": 16489,"value": "No","handleConfig": null,"online": 0,"event": 1}, {"valueRid": 16488,"value": "Yes","handleConfig": null,"online": 0,"event": 1}],"handleConfig": null,"online": 0,"event": 0,"allowcreate": 0,"default": []},
                        {"cpaRid": 656,"readOnly": 0,"visible": 0,"clear": 1,"mandatory": 0,"masterValues": [{"valueRid": 16280,"value": "No","handleConfig": null,"online": 0,"event": 1}, {"valueRid": 16279,"value": "Yes","handleConfig": null,"online": 0,"event": 1}],"handleConfig": null,"online": 0,"event": 0,"allowcreate": 0,"default": []},
                        {"cpaRid": 657,"readOnly": 0,"visible": 0,"clear": 1,"mandatory": 0,"masterValues": [{"valueRid": 16282,"value": "Clear","handleConfig": null,"online": 0,"event": 0}, {"valueRid": 16281,"value": "Not Clear","handleConfig": null,"online": 0,"event": 1}],"handleConfig": null,"online": 0,"event": 0,"allowcreate": 0,"default": []}]');
    END;

elsif $3 in(749) and $2=16489   and $8=73  then 
    BEGIN
        return (select '[{"cpaRid": 657,"readOnly": 0,"visible": 1,"clear": 1,"mandatory": 1,"masterValues": [{"valueRid": 16282,"value": "Clear","handleConfig": null,"online": 0,"event": 1}, {"valueRid": 16281, "value": "Not Clear","handleConfig": null,"online": 0,"event": 1}],"handleConfig": null,"online": 0,"event": 0,"allowcreate": 0,"default": []}]');
    END;

elsif $3 in(749) and $2=16488   and $8=73  then 
    BEGIN
         return (select '[{"cpaRid": 657,"readOnly": 0,"visible": 1,"clear": 1,"mandatory": 1,"masterValues": [{"valueRid": 16282,"value": "Clear","handleConfig": null,"online": 0,"event": 1}, {"valueRid": 16281,"value": "Not Clear","handleConfig": null,"online": 0,"event": 1}],"handleConfig": null,"online": 0,"event": 0,"allowcreate": 0,"default": []}]'); 
    END;

elsif $3 in (1291) and $8=73 and roled in (11,9) then
    begin
        return (select '[{"cpaRid":1350,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":1153,"value":"1-Ph","handleConfig":null,"online":0,"event":1},{"valueRid":1154,"value":"3-Ph","handleConfig":null,"online":0,"event":1},{"valueRid":1155,"value":"LTCT","handleConfig":null,"online":0,"event":1}],"default":[],"handleConfig":null,"online":0,"event":1,"allowcreate":1}]');
    end;

elsif $3 in(10) then 
    begin
        return(   select handle_config from se_dcg_hc_map where cpa_rid=10 and dcg_rid=71 and property_value_rid=$2);
    end;

--Om lab obervation
elsif($8=10 and $6=13 and $3=1360)then
    begin
        select a.roleid from tblprojectuserallocation a where a.userid=$5 and a.projectid=$6 into rolerid;

        select responsestatusid into statusid from tblresponselogs where responselogid in (select max(responselogid) from tblresponselogs where distnid=$9 and $6=13 and $8=10 and responsestatusid>=0 group by distnid);
        
 
        if $8=10 and $6=13 and $3=1360 and $2=1170 and rolerid=30  then
            begin
                return( select 
                 '[{"cpaRid":1380,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20593,"value":"Discom Issue","handleConfig":null,"online":0,"event":0},{"valueRid":20594,"value":"IntelliSmart Issue","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1386,"readOnly":0,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":1},{"cpaRid":1381,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":20595,"value":"Consumer Failure","handleConfig":null,"online":0,"event":0},{"valueRid":20596,"value":"Site fault ","handleConfig":null,"online":0,"event":0},{"valueRid":20597,"value":"Tampered","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}]');
            end;
        elsif $8=10 and $6=13 and $3=1360 and $2=1171 and rolerid=30 then
            begin 
                 return( select '[{"cpaRid":1380,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":20593,"value":"Discom Issue","handleConfig":null,"online":0,"event":0},{"valueRid":20594,"value":"IntelliSmart Issue","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1386,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1381,"readOnly":0,"visible":0,"clear":1,"mandatory":0,"masterValues":[{"valueRid":20595,"value":"Consumer Failure","handleConfig":null,"online":0,"event":0},{"valueRid":20596,"value":"Site fault ","handleConfig":null,"online":0,"event":0},{"valueRid":20597,"value":"Tampered","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}]');
            end;
 
        elsif $8=10 and $6=13 and $3=1360 and $2=1170 and $5=19 then
            return (select '[{"cpaRid":1380,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[{"valueRid":20593,"value":"Discom Issue","handleConfig":null,"online":0,"event":0},{"valueRid":20594,"value":"IntelliSmart Issue","handleConfig":null,"online":0,"event":0}],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0},{"cpaRid":1386,"readOnly":1,"visible":1,"clear":0,"mandatory":1,"masterValues":[],"default":[],"handleConfig":null,"online":0,"event":0,"allowcreate":0}]');
            
        end if; 
    end;
/*
elsif ($8=10 and $6=13 and $3=19)then

    BEGIN
                return(
                select distinct '[{"cpaRid":271,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":null,"default":["'||  coalesce(a.value,'') ||'"],"handleConfig":null,"online":1,"event":1},{"cpaRid":262,"readOnly":1,"visible":1,"clear":0,"mandatory":0,"masterValues":null,"default":["'||  coalesce(a.value,'') ||'"],"handleConfig":null,"online":1,"event":1}]'  hc  
                from tbldistributionnodeuserdefinedfields a
                where a.distributionnodeid=$9 and a.categorypropertyallocationid=1431  and coalesce(a.value,'null')<>'null');
    End;
*/
else 
    BEGIN 

        if $3 in(270,264,307,334,337,335,338,295,347,385) and $2 in (632,633,634,688,690,811,810,884,885,890,887,886,889,893,895,897,898,896,894,689,691,943,944,995,996) and $6=13  then return ( select getoldmeterdetails($9,$2));

        elsif $3 in(57,77) then return ( select getquessmeterdetails($1));
        else  
           begin
             if $2=0 then return (select handlerconfiguration from tblcategorypropertyallocation WHERE categorypropertyallocationid=$3);
             else return (select handlerconfiguration from tblpropertyvalues where propertyvalueid=$2);
             end if;
           end;
        end if;
    END;

end if;

end;
$BODY$
  LANGUAGE 'plpgsql' COST 100.0 SECURITY INVOKER